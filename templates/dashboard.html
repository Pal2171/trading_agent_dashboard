{% extends "base.html" %}

{% block title %}Dashboard - Trading Agent{% endblock %}

{% block content %}
<div style="display: flex; flex-direction: column; gap: 1.5rem;">

    <!-- 1. Equity Curve -->
    <article class="card">
        <div class="flex-between" style="margin-bottom: 1rem;">
            <div>
                <h2>Equity Curve</h2>
                <p class="card-subtitle">Andamento del valore del portafoglio nel tempo.</p>
            </div>
        </div>
        <div id="balance-panel" hx-get="/ui/balance" hx-trigger="load">
            <div aria-busy="true">Caricamento grafico...</div>
        </div>
    </article>

    <!-- 2. Open Positions Table -->
    <article class="card">
        <div class="flex-between" style="margin-bottom: 1rem;">
            <div>
                <h2>Posizioni Aperte</h2>
                <p class="card-subtitle">Panoramica delle posizioni attualmente attive a mercato.</p>
            </div>
        </div>
        <div id="open-positions-row" hx-get="/ui/open-positions" hx-trigger="load">
            <div aria-busy="true">Caricamento posizioni...</div>
        </div>
    </article>

</div>
{% endblock %}